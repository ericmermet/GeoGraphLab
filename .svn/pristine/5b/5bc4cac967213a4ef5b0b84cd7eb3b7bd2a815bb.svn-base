# Generated by Eclipse GCJ Builder
# http://gcjbuilder.sf.net

#global targets
ALL:	main 
all:	main 

#gcj variable
GCJ=gcj  $(OPTLEVEL) $(DEBUGLEVEL) $(COMPILER_OPTIONS)

#binary output folder
BINOUT= %(bin_out)%

#compiler options
COMPILER_OPTIONS=%(compiler_options)%

#linker options
LINKER_OPTIONS=%(linker_options)%

#object list
OBJ=%(object_list)%

#custom objects
CUSTOM_OBJ=%(custom_obj)%

#jar objects
CPOBJ=%(cpobj)%

#jar so
CPSO=%(cpso)%

#project classpath 
CP="--classpath=%(classpath)%"

#main class (or so output)
MAINCLASS=%(mainclass)%

#binary name (exe or so)
BIN=$(BINOUT)%(bin)%

#library path list
LIBRARYPATH=-L$(BINOUT) %(lib_path)%

#libraries (so) list
LIBRARIES=%(libs)%

#resource objects list
RESOB=%(res_list)%

#compiler optimization level
OPTLEVEL=%(opt)%

#compiler debug level
DEBUGLEVEL=%(dbg)%


#object targets
%.o:	%.java
	$(GCJ) $(CP)  -c $? -o $@
	
##################
#dummy targets (depend on config)

#classpath objects target
%(cp_obj_target)%

#classpath so target
%(cp_so_target)%

#resource objects target
%(res_target)%


#################

	
#main target

main: setup $(CPOBJ) $(RESOB) $(OBJ) $(CPSO)
	$(GCJ) $(LINKER_OPTIONS) $(MAINCLASS) $(CPOBJ) $(CUSTOM_OBJ) $(RESOB) $(OBJ) -o$(BIN)   $(LIBRARYPATH) $(LIBRARIES) $(CPSO)

#setup output folders
setup:
	mkdir -p $(BINOUT)/resource

#clean target    
clean:
	rm -f `find . -name "*.o"`
	rm -r $(BINOUT)

